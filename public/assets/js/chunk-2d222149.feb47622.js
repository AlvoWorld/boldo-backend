(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d222149"],{cca4:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("h1",[t._v("Registered Users")])])],1),t._v(" "),a("b-row",[a("b-colxx",{staticClass:"col-left",attrs:{xxs:"12",md:"12",xl:"12",lg:"12"}},[a("b-card",{staticClass:"mb-4",attrs:{"no-body":""}},[a("datatable",{attrs:{title:"Registered Users",rows:t.users,columns:t.columndata},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}})],1)],1)],1),t._v(" "),a("b-modal",{ref:"modalProfile",attrs:{id:"modalProfile",title:t.$t("modal.modal-title")}},[a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("img",{staticClass:"img-thumbnail border-0 rounded-circle list-thumbnail align-self-center xsmall",attrs:{src:t.selectedUser.photo,alt:"No Image"}}),t._v(";\n            ")])],1),t._v(" "),a("template",{slot:"modal-footer"},[a("b-button",{staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(e){return t.somethingModal("modalbackdrop")}}},[t._v("Do Something")]),t._v(" "),a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.hideModal("modalbackdrop")}}},[t._v("Cancel")])],1)],2)],1)},i=[],o=(a("4de4"),a("4160"),a("d81d"),a("159b"),a("5530")),c=a("f488"),s=a("2f62"),r=a("a9b0"),l={components:{datatable:r["a"]},data:function(){return{loading:!1,users:[],action:{},columndata:[{label:"No",field:"no",numeric:!0,html:!1},{label:"Photo",field:"photo",numeric:!1,html:!0},{label:"Name",field:"name",numeric:!1,html:!1},{label:"Email",field:"email",numeric:!1,html:!1},{label:"Bio",field:"bio",numeric:!1,html:!1},{label:"StyleOfCooking",field:"styleOfCooking",numeric:!1,html:!1},{label:"TypeOfProfessional",field:"typeOfProfessional",numeric:!1,html:!1},{label:"Location",field:"location",numeric:!1,html:!1},{label:"State",field:"active",numeric:!1,html:!0},{label:"Action",field:"delete",numeric:!1,html:!0}],selectedUser:{}}},computed:Object(o["a"])({},Object(s["c"])({currentUser:"currentUser"})),methods:{getUsers:function(){var t=this,e="admin/get_users";this.loading=!0,c["a"].get(e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.currentUser.token)}}).then((function(e){if(e.data.success){var a=e.data.data;a.forEach((function(e,a){t.$set(e,"no",a+1);var n='<img src="'.concat(e.photo,'" alt="No Image" class="img-thumbnail border-0 rounded-circle list-thumbnail align-self-center xsmall">');t.$set(e,"photo",n);var i="";i=1==e.active?'<button class="btn btn-warning" target_id="'.concat(e.id,'" action="activate">Deactivate</button>'):'<button class="btn btn-success" target_id="'.concat(e.id,'" action="activate">Activate</button>'),t.$set(e,"active",i),i='<button class="btn btn-danger" target_id="'.concat(e.id,'" action="delete">Delete</button>'),t.$set(e,"delete",i)})),t.users=a}t.loading=!1})).catch((function(e){t.loading=!1}))}},mounted:function(){},beforeMount:function(){this.getUsers()},watch:{action:function(t){var e=this;if(null!=t.id){var a=t.id,n=t.action;if("delete"===n){var i={user_id:a},o="admin/remove_user";this.loading=!0,c["a"].post(o,JSON.stringify(i),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.currentUser.token)}}).then((function(t){t.data.success&&(e.$notify("success","User deleted","User deleted",{duration:3e3,permanent:!1}),e.users=e.users.filter((function(t){return t.id!=a})))})).catch((function(t){e.loading=!1}))}else if("activate"===n){var s={user_id:a};this.users.forEach((function(t){t.id!=a||t}));var r="admin/active_user";this.loading=!0,c["a"].post(r,JSON.stringify(s),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.currentUser.token)}}).then((function(t){if(t.data.success){e.$notify("success","User activate status changed","User activate status changed",{duration:3e3,permanent:!1});var a=t.data.data,n=e.users;n.map((function(t){if(t.id==a.id){var n="";n=a.active?'<button class="btn btn-warning" target_id="'.concat(t.id,'" action="activate">Deactivate</button>'):'<button class="btn btn-success" target_id="'.concat(t.id,'" action="activate">Activate</button>'),e.$set(t,"active",n)}})),e.users=n}})).catch((function(t){e.loading=!1}))}}}}},d=l,u=a("2877"),m=Object(u["a"])(d,n,i,!1,null,null,null);e["default"]=m.exports}}]);